@using JobFindingWebsite.ViewModels;
@model HomeNumbersViewModel
@{
    ViewData["Title"] = "Home Page";
}

<br />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="~/css/mainpage.css" asp-append-version="true" />

<div>
    <div class="text-center" style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 65px;">
        <p style="margin: 0; margin-bottom: -25px;">YOUR TIME</p>
        <p style="margin: 0;">HAS COME</p>
    </div>

    <div class="my-view">
        <div class="wrapper">
            <div class="link_wrapper">
                <a asp-controller="Vacancy" asp-action="Index">Search for Jobs</a>
                <div class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 268.832 268.832">
                        <path d="M265.17 125.577l-80-80c-4.88-4.88-12.796-4.88-17.677 0-4.882 4.882-4.882 12.796 0 17.678l58.66
                     58.66H12.5c-6.903 0-12.5 5.598-12.5 12.5 0 6.903 5.597 12.5 12.5 12.5h213.654l-58.66 58.662c-4.88 4.882-4.88
                     12.796 0 17.678 2.44 2.44 5.64 3.66 8.84 3.66s6.398-1.22 8.84-3.66l79.997-80c4.883-4.882 4.883-12.7960-17.678z" />
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <div class="numbers-section" style="display: flex; justify-content: center; align-items: center; gap: 50px; margin-top: 160px;">
        <div class="number-item" style="text-align: center;">
            <h2 style="font-size: 48px; color: #333;">@Model.numOfUsers</h2>
            <p style="font-size: 24px; color: #777;">Users<br>Registered</p>
        </div>
        <div class="number-item" style="text-align: center;">
            <h2 style="font-size: 48px; color: #333;">@Model.numOfCompanies</h2>
            <p style="font-size: 24px; color: #777;">Companies<br>Participating</p>
        </div>
        <div class="number-item" style="text-align: center;">
            <h2 style="font-size: 48px; color: #333;">@Model.numOfVacancies</h2>
            <p style="font-size: 24px; color: #777;">Vacancies<br>Available</p>
        </div>
    </div>
</div>

<div class="responsive-container-block bigContainer">
    <div class="responsive-container-block Container">
        <img class="mainImg" src="/lib/Logos/work1.jpeg">
        <div class="allText aboveText">
            <p class="text-blk headingText">
                Our Mission
            </p>
            <p class="text-blk description">
                TechHub connects innovative minds with cutting-edge companies. We believe that the right job can transform a person's life, and the right person can transform a business. We're dedicated to bringing them together through a personalized approach to recruitment. Join us in shaping the future of the tech world
            </p>
            <a class="getstarted" asp-controller="Vacancy" asp-action="Index">
                Get Started
            </a>

        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerHTML = Math.floor(progress * (end - start) + start);
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        const numbers = document.querySelectorAll('.number-item h2');
        numbers.forEach(number => {
            const endValue = parseInt(number.textContent, 10);
            animateValue(number, 0, endValue, 200);
        });
    });
</script>